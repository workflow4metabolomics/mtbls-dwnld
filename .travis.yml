dist: bionic

notifications:
 email:
  recipients:
   - pierrick.roger@cea.fr

install:
  
  # Aspera
  - wget https://download.asperasoft.com/download/sw/cli/3.7.7/aspera-cli-3.7.7.608.927cce8-linux-64-release.sh
  - bash aspera-cli-3.7.7.608.927cce8-linux-64-release.sh
    
  # pyenv
    - wich pyenv
  # See https://github.com/pyenv/pyenv-installer
  # and https://github.com/pyenv/pyenv/wiki/Common-build-problems
  #  - sudo apt-get install -y build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python-openssl git
  #  - curl https://pyenv.run | sudo bash

script:
    - export PATH=$PATH:$HOME/.aspera/cli/bin
    - TEST_THAT_NO_FCT=test_ascp_private_study make test
    - make plint
    - make ptest
